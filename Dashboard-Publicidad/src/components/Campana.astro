<div class="container-campana">
 
  <!-- OVERLAY DE CARGA PREMIUM -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="floating-element float-1"></div>
        <div class="floating-element float-2"></div>
        <div class="floating-element float-3"></div>
        
        <div class="loading-container">
            <div class="orbital-system">
                <div class="orbit orbit-1">
                    <div class="orbital-particle particle-1"></div>
                </div>
                <div class="orbit orbit-2">
                    <div class="orbital-particle particle-2"></div>
                </div>
                <div class="orbit orbit-3">
                    <div class="orbital-particle particle-3"></div>
                </div>
                <div class="core-sphere"></div>
            </div>
            
            <div class="loading-text">Procesando</div>
            <div class="loading-subtitle">Sincronizando datos empresariales<br>Un momento por favor...</div>
            
            <div class="progress-container">
                <div class="progress-bar"></div>
            </div>
        </div>
    </div>

  <header>
    <div class="header-title">
      <h1>Dashboard de Gastos Publicitarios</h1>
      <p>Analítica de presupuesto y gastos de marketing</p>
    </div>
    <div class="header-actions">
      <button
        class="btn btn-primary"
        data-bs-toggle="modal"
        data-bs-target="#agregarCampanaModal"
      >
        <i class="fas fa-plus"></i> Agregar Campaña
      </button>
      <button
        class="btn btn-secondary ms-2"
        data-bs-toggle="modal"
        data-bs-target="#nuevoGastosModal"
      >
        <i class="fas fa-cash-register"></i> Registrar Gastos
      </button>
    </div>
  </header>

  <div class="summary-cards">
    <div id="presupuesto_total" class="card">
      <div class="card-icon">
        <i class="fas fa-wallet"></i>
      </div>
      <div class="card-title">PRESUPUESTO TOTAL DEL MES</div>
      <div class="card-value">-</div>
      <!-- Cambiado a - -->
      <div class="card-trend">
        <span class="trend-value">-</span>
        <!-- Cambiado a - -->
      </div>
    </div>
    <div id="restante" class="card">
      <div class="card-icon">
        <i class="fas fa-calendar-alt"></i>
      </div>
      <div class="card-title">RESTANTE</div>
      <div class="card-value">-</div>
      <!-- Cambiado a - -->
      <div class="card-trend"></div>
    </div>
    <div id="mes_mas_frecuente" class="card">
      <div class="card-icon">
        <i class="fas fa-chart-line"></i>
      </div>
      <div class="card-title">MES MAS FRECUENTE</div>
      <div class="card-value">-</div>
      <!-- Cambiado a - -->
      <div class="card-trend">
        <span class="trend-value">-</span>
        <!-- Cambiado a - -->
      </div>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table" id="tablaCampanas">
      <thead>
        <tr>
          <th>DESCRIPCIÓN</th>
          <th>ENERO <span class="trend-indicator trend-up"></span></th>
          <th>FEBRERO</th>
          <th>MARZO</th>
          <th>ABRIL</th>
          <th>MAYO</th>
          <th>JUNIO</th>
          <th>JULIO</th>
          <th>AGOSTO</th>
          <th>SEPTIEMBRE</th>
          <th>OCTUBRE</th>
          <th>NOVIEMBRE</th>
          <th>DICIEMBRE</th>
          <th>TOTAL <span class="trend-indicator trend-up"></span></th>
        </tr>
      </thead>
      <tbody>
        <!-- filas dinámicas -->
      </tbody>
    </table>
  </div>

  <!-- Modal para agregar campañas -->
  <div
    class="modal fade"
    id="agregarCampanaModal"
    tabindex="-1"
    aria-labelledby="agregarCampanaModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="agregarCampanaModalLabel">
            <i class="fas fa-bullhorn"></i> Nueva Campaña
          </h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="formCampana">
            <div class="mb-3">
              <label for="nombreCampana" class="form-label"
                >Nombre de la Campaña</label
              >
              <input
                type="text"
                class="form-control"
                id="nombreCampana"
                placeholder="Ej: CAMPAÑAS ADS METAS"
                required
              />
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal">Cancelar</button
          >
          <button type="button" class="btn btn-primary" id="guardarCampanaBtn"
            >Guardar</button
          >
        </div>
      </div>
    </div>
  </div>

  <!-- Modal para agregar gastos de campaña -->
  <div
    class="modal fade"
    id="agregarGastosModal"
    tabindex="-1"
    aria-labelledby="agregarGastosModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="agregarGastosModalLabel">
            <i class="fas fa-money-bill-wave"></i> Registrar Gastos de Campaña
          </h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="formGastos">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="fechaPago" class="form-label">Fecha de Pago</label>
                <input
                  type="date"
                  class="form-control"
                  id="fechaPago"
                  required
                />
              </div>
              <div class="col-md-6 mb-3">
                <label for="tipoEvento" class="form-label">Tipo de Evento</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="tipoEvento"
                  placeholder="Ej: Evento, Publicidad, Otros"
                  required
                />
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="tipoContenido" class="form-label"
                  >Tipo de Contenido</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="tipoContenido"
                  placeholder="Ej: Video, Imagen, Texto"
                  required
                />
              </div>
              <div class="col-md-6 mb-3">
                <label for="duracion" class="form-label">Duración (días)</label>
                <input
                  type="number"
                  class="form-control"
                  id="duracion"
                  min="1"
                  required
                />
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="alcance" class="form-label">Alcance estimado</label>
                <input
                  type="number"
                  class="form-control"
                  id="alcance"
                  min="1"
                  required
                />
              </div>
              <div class="col-md-6 mb-3">
                <label for="inversion" class="form-label">Inversión ($)</label>
                <input
                  type="number"
                  class="form-control"
                  id="inversion"
                  min="0.01"
                  step="0.01"
                  required
                />
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal">Cancelar</button
          >
          <button type="button" class="btn btn-primary" id="guardarGastosBtn"
            >Registrar Gastos</button
          >
        </div>
      </div>
    </div>
  </div>

  <!-- Nuevo Modal para Registrar Gastos -->
  <div
    class="modal fade"
    id="nuevoGastosModal"
    tabindex="-1"
    aria-labelledby="nuevoGastosModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content border-0">
        <!-- Header con azul oscuro profesional -->
        <div class="modal-header text-white" style="background-color: #0d6efd; border-bottom: 2px solid #1a252f;">
          <h5 class="modal-title" id="nuevoGastosModalLabel">
            <i class="fas fa-file-invoice-dollar me-2"></i> Registro de Gastos Publicitarios
          </h5>
          <button
            type="button"
            class="btn-close btn-close-white"
            data-bs-dismiss="modal"
            aria-label="Close"></button>
        </div>
        
        <!-- Cuerpo del modal -->
        <div class="modal-body">
          <form id="nuevoFormGastos">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="nuevaCampanaSelect" class="form-label fw-bold">Campaña</label>
                <select class="form-select border-secondary" id="nuevaCampanaSelect" required>
                  <option value="" selected disabled>Seleccione una campaña</option>
                  <!-- Las opciones se llenarán con JavaScript -->
                </select>
              </div>
              <div class="col-md-6 mb-3">
                <label for="nuevaFechaPago" class="form-label fw-bold">Fecha de Pago</label>
                <input
                  type="date"
                  class="form-control border-secondary"
                  id="nuevaFechaPago"
                  required
                />
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="nuevoTipoEvento" class="form-label fw-bold">Tipo de Evento</label>
                <input
                  type="text"
                  class="form-control border-secondary"
                  id="nuevoTipoEvento"
                  placeholder="Ej: Evento, Publicidad, Otros"
                  required
                />
              </div>
              <div class="col-md-6 mb-3">
                <label for="nuevoTipoContenido" class="form-label fw-bold">Tipo de Contenido</label>
                <input
                  type="text"
                  class="form-control border-secondary"
                  id="nuevoTipoContenido"
                  placeholder="Ej: Video, Imagen, Texto"
                  required
                />
              </div>
            </div>

            <div class="row">
              <div class="col-md-4 mb-3">
                <label for="nuevaDuracion" class="form-label fw-bold">Duración (días)</label>
                <input
                  type="number"
                  class="form-control border-secondary"
                  id="nuevaDuracion"
                  min="1"
                  required
                />
              </div>
              <div class="col-md-4 mb-3">
                <label for="nuevoAlcance" class="form-label fw-bold">Alcance estimado</label>
                <div class="input-group">
                  <input
                    type="number"
                    class="form-control border-secondary"
                    id="nuevoAlcance"
                    min="1"
                    required
                  />
                  <span class="input-group-text bg-light">personas</span>
                </div>
              </div>
              <div class="col-md-4 mb-3">
                <label for="nuevaInversion" class="form-label fw-bold">Inversión</label>
                <div class="input-group">
                  <span class="input-group-text">$</span>
                  <input
                    type="number"
                    class="form-control border-secondary"
                    id="nuevaInversion"
                    min="0.01"
                    step="0.01"
                    required
                  />
                </div>
              </div>
            </div>
          </form>
        </div>
        
        <!-- Footer con estilo profesional -->
        <div class="modal-footer" style="background-color: #f8f9fa; border-top: 1px solid #dee2e6;">
          <button
            type="button"
            class="btn btn-outline-secondary"
            data-bs-dismiss="modal">
            <i class="fas fa-times me-1"></i> Cancelar
          </button>
          <button type="button" class="btn text-white" style="background-color: #0d6efd;" id="nuevoGuardarGastosBtn">
            <i class="fas fa-save me-1"></i> Guardar Registro
          </button>
        </div>
      </div>
    </div>
  </div>

<script src="/campana.js" defer></script>
