<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>

<div class="budget-container">
  <!-- Header -->
  <div class="budget-header">
    <h1 class="budget-title">
      <i class="fas fa-chart-pie"></i>
      Gestión de Presupuesto
    </h1>
    <div class="budget-actions">
      <!-- <button class="btn btn-outline">
        <i class="fas fa-file-export"></i> Exportar
      </button> -->
      <button
        class="btn btn-premier"
        data-bs-toggle="modal"
        data-bs-target="#presupuestoModal"
      >
        <i class="fas fa-plus-circle me-2"></i> Registrar Presupuesto
      </button>
    </div>
  </div>

  <!-- Budget Overview -->
  <div class="budget-overview">
    <!-- Total Budget Card -->
    <div class="budget-card primary">
      <div class="budget-card-header">
        <div class="budget-card-title">
          <i class="fas fa-wallet"></i>
          Presupuesto Total
        </div>
        <span>2025</span>
      </div>
      <div class="budget-amount">$250,000.00</div>
      <div class="budget-progress-container">
        <div class="budget-progress-label">
          <span>Asignado</span>
          <span>100%</span>
        </div>
        <div class="budget-progress">
          <div class="progress-bar primary" style="width: 100%"></div>
        </div>
      </div>
      <div class="budget-stats">
        <div class="stat-item">
          <div class="stat-value">$180,450</div>
          <div class="stat-label">Disponible</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">$69,550</div>
          <div class="stat-label">Utilizado</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">27.8%</div>
          <div class="stat-label">Ejecutado</div>
        </div>
      </div>
    </div>

    <!-- Current Month Budget -->
    <div class="budget-card success">
      <div class="budget-card-header">
        <div class="budget-card-title">
          <i class="fas fa-calendar-alt"></i>
          Presupuesto Mensual
        </div>
        <span>Julio 2025</span>
      </div>
      <div class="budget-amount">$42,500.00</div>
      <div class="budget-progress-container">
        <div class="budget-progress-label">
          <span>Ejecutado</span>
          <span>35%</span>
        </div>
        <div class="budget-progress">
          <div class="progress-bar success" style="width: 35%"></div>
        </div>
      </div>
      <div class="budget-stats">
        <div class="stat-item">
          <div class="stat-value">$27,625</div>
          <div class="stat-label">Disponible</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">$14,875</div>
          <div class="stat-label">Utilizado</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">+12%</div>
          <div class="stat-label">vs Junio</div>
        </div>
      </div>
    </div>

    <!-- Budget Forecast -->
    <div class="budget-card warning">
      <div class="budget-card-header">
        <div class="budget-card-title">
          <i class="fas fa-chart-line"></i>
          Proyección Anual
        </div>
        <span>2025</span>
      </div>
      <div class="budget-amount">$298,750.00</div>
      <div class="budget-progress-container">
        <div class="budget-progress-label">
          <span>Disponibilidad</span>
          <span>83.7%</span>
        </div>
        <div class="budget-progress">
          <div class="progress-bar warning" style="width: 83.7%"></div>
        </div>
      </div>
      <div class="budget-stats">
        <div class="stat-item">
          <div class="stat-value">$48,750</div>
          <div class="stat-label">Sobre presupuesto</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">6.2%</div>
          <div class="stat-label">Incremento</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">Q4</div>
          <div class="stat-label">Pico de gasto</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Budget Allocation -->
  <div class="allocation-section">
    <div class="section-header">
      <h2 class="section-title">Distribución del Presupuesto</h2>
      <button class="btn btn-outline">
        <i class="fas fa-sliders-h"></i> Ajustar
      </button>
    </div>

    <div class="allocation-grid">
      <!-- Campañas Publicitarias -->
      <div class="allocation-item">
        <div class="allocation-icon" style="background-color: var(--primary);">
          <i class="fas fa-bullhorn"></i>
        </div>
        <div class="allocation-details">
          <div class="allocation-category">Campañas Publicitarias</div>
          <div class="allocation-amount">$85,000.00</div>
        </div>
        <div class="allocation-percent">34%</div>
      </div>

      <!-- Medios Digitales -->
      <div class="allocation-item">
        <div class="allocation-icon" style="background-color: var(--success);">
          <i class="fas fa-ad"></i>
        </div>
        <div class="allocation-details">
          <div class="allocation-category">Medios Digitales</div>
          <div class="allocation-amount">$62,500.00</div>
        </div>
        <div class="allocation-percent">25%</div>
      </div>

      <!-- Modelos e Influencers -->
      <div class="allocation-item">
        <div class="allocation-icon" style="background-color: var(--warning);">
          <i class="fas fa-user-tie"></i>
        </div>
        <div class="allocation-details">
          <div class="allocation-category">Modelos e Influencers</div>
          <div class="allocation-amount">$50,000.00</div>
        </div>
        <div class="allocation-percent">20%</div>
      </div>

      <!-- Eventos y Activaciones -->
      <div class="allocation-item">
        <div class="allocation-icon" style="background-color: var(--danger);">
          <i class="fas fa-calendar-check"></i>
        </div>
        <div class="allocation-details">
          <div class="allocation-category">Eventos y Activaciones</div>
          <div class="allocation-amount">$30,000.00</div>
        </div>
        <div class="allocation-percent">12%</div>
      </div>

      <!-- Producción Creativa -->
      <div class="allocation-item">
        <div class="allocation-icon" style="background-color: #6a11cb;">
          <i class="fas fa-paint-brush"></i>
        </div>
        <div class="allocation-details">
          <div class="allocation-category">Producción Creativa</div>
          <div class="allocation-amount">$15,000.00</div>
        </div>
        <div class="allocation-percent">6%</div>
      </div>

      <!-- Otros Gastos -->
      <div class="allocation-item">
        <div class="allocation-icon" style="background-color: var(--gray);">
          <i class="fas fa-ellipsis-h"></i>
        </div>
        <div class="allocation-details">
          <div class="allocation-category">Otros Gastos</div>
          <div class="allocation-amount">$7,500.00</div>
        </div>
        <div class="allocation-percent">3%</div>
      </div>
    </div>
  </div>

  <div class="card shadow-sm">
    <div class="card-header bg-white">
      <h5 class="card-title mb-0">
        <i class="fas fa-history me-2 text-primary"></i> Historial de Presupuestos
      </h5>
    </div>
    <div class="card-body">
      <!-- Tabla de historial -->
      <div class="table-responsive">
        <table class="table table-hover" id="tablaHistorial">
          <thead class="table-light">
            <tr>
              <th scope="col">Fecha</th>
              <th scope="col">Monto</th>
              <th scope="col">Observaciones</th>
              <th scope="col">Acciones</th>
            </tr>
          </thead>
          <tbody id="cuerpoHistorial">
            <!-- Los registros se agregarán aquí dinámicamente -->
            <tr class="placeholder-row">
              <td colspan="4" class="text-center py-4">
                <i class="fas fa-folder-open fa-2x text-muted mb-2"></i>
                <p class="text-muted">No hay presupuestos registrados</p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->

<div
  class="modal fade"
  id="presupuestoModal"
  tabindex="-1"
  aria-labelledby="presupuestoModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-0 shadow-lg">
      <!-- Encabezado del modal -->
      <div class="modal-header bg-gradient-premier text-white">
       
        <h5 class="modal-title" id="presupuestoModalLabel">
          <i class="fas fa-file-invoice-dollar me-2"></i> Nuevo Presupuesto
        </h5>
        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="modal"
          aria-label="Close"></button>
      </div>

      <!-- Cuerpo del modal -->
      <div class="modal-body p-4">
        <form id="formPresupuesto">
          <!-- Campo de Presupuesto -->
          <div class="mb-3 animate__animated animate__fadeIn">
            <label for="montoPresupuesto" class="form-label fw-bold">
              <i class="fas fa-money-bill-wave me-2"></i>Monto del Presupuesto
            </label>
            <div class="input-group">
              <span class="input-group-text bg-light">$</span>
              <input
                type="number"
                class="form-control"
                id="montoPresupuesto"
                placeholder="Ingrese el monto"
                step="0.01"
                min="0"
                required
              />
              <span class="input-group-text bg-light">.00</span>
            </div>
            <div class="form-text">Ingrese el monto presupuestado</div>
          </div>

          <!-- Campo de Fecha -->
          <div class="mb-3 animate__animated animate__fadeIn animate__delay-1s">
            <label for="fechaRegistro" class="form-label fw-bold">
              <i class="far fa-calendar-alt me-2"></i>Fecha de Registro
            </label>
            <input
              type="date"
              class="form-control"
              id="fechaRegistro"
              readonly
              required
            />
            <div class="form-text">Seleccione la fecha de registro</div>
          </div>

          <!-- Campo de Observaciones -->
          <div class="mb-3 animate__animated animate__fadeIn animate__delay-2s">
            <label for="observaciones" class="form-label fw-bold">
              <i class="fas fa-edit me-2"></i>Observaciones
            </label>
            <textarea
              class="form-control"
              id="observaciones"
              rows="3"
              placeholder="Breve descripción o notas adicionales"></textarea>
            <div class="form-text">
              Opcional: agregue comentarios relevantes
            </div>
          </div>
        </form>
      </div>

      <!-- Pie del modal -->
      <div class="modal-footer border-0">
        <button
          type="button"
          class="btn btn-outline-secondary rounded-pill px-4"
          data-bs-dismiss="modal"
        >
          <i class="fas fa-times me-2"></i>Cancelar
        </button>
        <button
          type="button"
          class="btn btn-premier rounded-pill px-4"
          id="guardarPresupuesto"
        >
          <i class="fas fa-save me-2"></i>Guardar Presupuesto
        </button>
      </div>
    </div>
  </div>
</div>

<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7"
  crossorigin="anonymous"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>

<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<!-- Animate.css -->
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
/>

<script src="/presupuesto.js" defer></script>
